# ===========================================
# Frontend Server 환경변수 설정
# Nginx, SSL, 보안 설정 + React/Vite 설정
# ===========================================

# ------------------------------------------
# React/Vite 애플리케이션 설정
# ------------------------------------------
# API 서버 설정 (Nginx 프록시를 통한 상대 경로)
VITE_API_BASE_URL=/api
VITE_WS_SERVER_URL=/socket.io

# 앱 설정
VITE_APP_ENV=production
VITE_APP_TITLE=조선대 IT융합대학 캡스톤 프로젝트
VITE_APP_VERSION=1.0.0

# 개발 도구 설정 (프로덕션에서는 비활성화)
VITE_ENABLE_REDUX_DEVTOOLS=false
VITE_ENABLE_API_LOGS=false

# 파일 업로드 설정
VITE_MAX_FILE_SIZE=10
VITE_ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# 외부 API 설정 (주의: 프론트엔드 노출)
VITE_OPENAI_API_KEY=your_openai_api_key_here

# ------------------------------------------
# Nginx 보안 및 성능 설정
# ------------------------------------------
# Rate Limiting 설정 (요청 제한)
API_RATE_LIMIT=100r/m
GENERAL_RATE_LIMIT=200r/m

# CORS 설정 (허용할 Origin)
ALLOWED_ORIGINS=https://your-project.com

# ------------------------------------------
# SSL/TLS 설정 (Let's Encrypt)
# ------------------------------------------
# SSL 인증서 경로 (프로덕션용)
SSL_CERT_PATH=/etc/letsencrypt/live/your-project.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your-project.com/privkey.pem

# Let's Encrypt 설정
SSL_EMAIL=your-email@example.com
CERTBOT_EMAIL=your-email@example.com

# ------------------------------------------
# 개발환경 SSL 설정
# ------------------------------------------
# 개발용 자체 서명 인증서 경로
DEV_SSL_CERT_PATH=/etc/nginx/ssl/localhost.crt
DEV_SSL_KEY_PATH=/etc/nginx/ssl/localhost.key

# ------------------------------------------
# 보안 헤더 설정
# ------------------------------------------
# 보안 정책 설정
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000

# ------------------------------------------
# 프록시 설정
# ------------------------------------------
# Backend API 프록시 타임아웃
PROXY_CONNECT_TIMEOUT=60s
PROXY_SEND_TIMEOUT=60s
PROXY_READ_TIMEOUT=60s

# 크롤링 서버 타임아웃 (긴 작업용)
CRAWLER_PROXY_TIMEOUT=300s

# ------------------------------------------
# 캐싱 설정
# ------------------------------------------
# 정적 파일 캐시 기간
STATIC_CACHE_DURATION=1y
HTML_CACHE_CONTROL=no-cache

# ------------------------------------------
# 업로드 파일 설정
# ------------------------------------------
# 업로드 파일 서빙 설정
UPLOAD_FILES_CACHE_DURATION=1M
MAX_UPLOAD_SIZE=10m

# ------------------------------------------
# Scheduler (크롤링 시스템) 설정
# ------------------------------------------
# Backend 서버 연결 설정
SPRING_SERVER_BASE_URL=http://${BACKEND_SERVER_IP}:${BACKEND_SERVER_PORT}

# 파일 경로 설정
CACHE_FILE_PATH=data/notice_cache.json
LOG_FILE_PATH=/app/logs/crawler.log

# 크롤링 설정
CRAWL_YEAR_FILTER=2025
CRAWL_DELAY_SECONDS=2

# API 설정
API_TIMEOUT_SECONDS=30
API_RETRY_COUNT=3
API_RETRY_DELAY_SECONDS=5

# 로그 설정
# 레벨: DEBUG, INFO, WARNING, ERROR
SCHEDULER_LOG_LEVEL=INFO
LOG_MAX_FILE_SIZE_MB=10
LOG_BACKUP_COUNT=5

# 캐시 설정
# 중복 체크할 시간 범위 (시간)
DUPLICATE_CHECK_HOURS=24
MAX_NOTICES_PER_CATEGORY=100

# 스케줄 설정
SCHEDULE_ENABLED=true
SCHEDULE_TIMEZONE=Asia/Seoul
